

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Advanced Theming &mdash; Dungeon Architect [UE4]  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Advanced Dungeons" href="advanced_dungeon_concepts.html" />
    <link rel="prev" title="Grid Builder" href="builder_grid.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Dungeon Architect [UE4]
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="create_first_dungeon.html">Create your first Dungeon</a></li>
<li class="toctree-l1"><a class="reference internal" href="design_first_theme.html">Design your first theme</a></li>
<li class="toctree-l1"><a class="reference internal" href="launch_pad.html">Launch Pad Window</a></li>
<li class="toctree-l1"><a class="reference internal" href="builder_grid_flow.html">Grid Flow Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="builder_snap_flow.html">Snap Flow Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="builder_grid.html">Grid Builder</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Advanced Theming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#theming-rules">Theming Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#selection-rule">Selection Rule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-selection-rules">Using Selection Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-1">Example #1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-2">Example #2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-3">Example #3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#transform-rule">Transform Rule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-transform-rules">Using Transform Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Example #1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Example #2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Example #3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#spawn-logic">Spawn Logic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-spawn-logic">Create Spawn Logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#define-spawn-logic">Define Spawn Logic</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#clustered-theming">Clustered Theming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-clustered-theming">Using Clustered Theming</a></li>
<li class="toctree-l3"><a class="reference internal" href="#height-variations">Height Variations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#spatial-constraints">Spatial Constraints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced_dungeon_concepts.html">Advanced Dungeons</a></li>
</ul>
<p class="caption"><span class="caption-text">MORE BUILDERS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="builder_simple_city.html">Simple City Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="builder_floor_plan.html">Floor Plan Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="builder_isaac.html">Isaac Builder</a></li>
</ul>
<p class="caption"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="manual_installation.html">Manual Installation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Dungeon Architect [UE4]</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Advanced Theming</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="advanced-theming">
<h1>Advanced Theming<a class="headerlink" href="#advanced-theming" title="Permalink to this headline">¶</a></h1>
<div class="section" id="theming-rules">
<h2>Theming Rules<a class="headerlink" href="#theming-rules" title="Permalink to this headline">¶</a></h2>
<p>You can attach Blueprint (or C++) based logic on the theme nodes for more control. There are two types of rules you can attach to Visual nodes</p>
<div class="figure align-center" id="id4">
<img alt="_images/rules_01.png" src="_images/rules_01.png" />
<p class="caption"><span class="caption-text">Visual Node Rules</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="selection-rule">
<h2>Selection Rule<a class="headerlink" href="#selection-rule" title="Permalink to this headline">¶</a></h2>
<p>A selection rule is a blueprint class (or C++ class) that is used to decide if the current node is to be attached to the scene.  This rule replaces the default <strong>Probability</strong> property that is used for randomly deciding if visual node needs spawning based on a probability.</p>
<p>Selection rules gives you more power, when you need it.   In the rule’s blueprint logic, you can query the dungeon model and determin if this node should be inserted into the scene</p>
<div class="section" id="using-selection-rules">
<h3>Using Selection Rules<a class="headerlink" href="#using-selection-rules" title="Permalink to this headline">¶</a></h3>
<p>To assing an existing rule into the node, Check the <strong>Use Selection Logic</strong> property and select the rule you would like to attach to the node from the dropdown list</p>
<div class="figure align-center" id="id5">
<img alt="_images/selection_rule_01a.png" src="_images/selection_rule_01a.png" />
<p class="caption"><span class="caption-text">Assign an existing Selection Rule</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>Create a new selection rule by creating a new blueprint class derived from the appropriate DungeonSelectorLogic.  It should match the builder you are targeting</p>
<div class="figure align-center" id="id6">
<img alt="_images/create_rule_transform1.png" src="_images/create_rule_transform1.png" />
<p class="caption"><span class="caption-text">Create a new Selection Rule</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>Open up the blueprint and override the <strong>Select Node</strong> function. This function will be called by the engine and the logic you put here will let you decide if the node should to be selected</p>
<div class="figure align-center" id="id7">
<img alt="_images/selection_rule_04.png" src="_images/selection_rule_04.png" />
<p class="caption"><span class="caption-text">Override function to define logic</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>The selection can be combined with the Probability varaible by unchecking <strong>Logic Overrides Probability</strong></p>
<div class="figure align-center" id="id8">
<img alt="_images/selection_rule_02b.png" src="_images/selection_rule_02b.png" />
<p class="caption"><span class="caption-text">Combine selection logic with Probability variable</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="example-1">
<h3>Example #1<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h3>
<p>Here is an example of a selection logic that selects a node only if the sum of their X and Y positions are even numbers (logic for a checkerboard pattern)</p>
<div class="figure align-center" id="id9">
<img alt="_images/selection_rule_05.png" src="_images/selection_rule_05.png" />
<p class="caption"><span class="caption-text">Override function to define logic</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>And the result after applying this rule to the ground node:</p>
<div class="figure align-center" id="id10">
<img alt="_images/selection_rule_06.jpg" src="_images/selection_rule_06.jpg" />
<p class="caption"><span class="caption-text">Custom selection rule attached to a mesh node</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<p>You can add more visual nodes and experiment with the <strong>Consume on Attach</strong> parameter to get interesting results</p>
<div class="figure align-center" id="id11">
<img alt="_images/selection_rule_07.jpg" src="_images/selection_rule_07.jpg" />
<p class="caption"><span class="caption-text">Multiple visual nodes working together</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<p>In the above example, the first node has <strong>Consume on Attach</strong> checked.  So if your blueprint logic selects the node, the sandstone mesh will be inserted and the execution stops.   However if the selection node doesn’t select the node, the execution will always proceed to the next node and execute the mesh which inserts a clay brick mesh</p>
<div class="figure align-center">
<img alt="_images/selection_rule_eg1_1.jpg" src="_images/selection_rule_eg1_1.jpg" />
</div>
<p>In the above example, the selection rule is applied to the golden pillar.  But whenever it is selected, it stops execution because the <strong>Consume on Attach</strong> variable is set and doesn’t build a ground mesh there.    Unchecking <strong>Consume on Attach</strong> on the first node lets the execution proceed even if it is inserted into the scene</p>
<div class="figure align-center">
<img alt="_images/selection_rule_eg1_2.jpg" src="_images/selection_rule_eg1_2.jpg" />
</div>
</div>
<div class="section" id="example-2">
<h3>Example #2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h3>
<p>This example places a stone mesh on the ground, but only if the cell is inside a room (and not a corridor)</p>
<div class="figure align-center" id="id12">
<img alt="_images/selection_rule_eg2_1.jpg" src="_images/selection_rule_eg2_1.jpg" />
<p class="caption"><span class="caption-text">Stone ground mesh selection only when inside rooms</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id13">
<img alt="_images/selection_rule_eg2_2.jpg" src="_images/selection_rule_eg2_2.jpg" />
<p class="caption"><span class="caption-text">Room selector logic</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<p>The above Selection logic was attached to the stone mesh ground node so it gets selected only when the ground marker is inside a room</p>
</div>
<div class="section" id="example-3">
<h3>Example #3<a class="headerlink" href="#example-3" title="Permalink to this headline">¶</a></h3>
<p>Ignore nodes that are near other markers.  This is very useful if you don’t want to place blocking items near stairs, doors etc</p>
<div class="figure align-center" id="id14">
<img alt="_images/query_grid_near_marker_11.png" src="_images/query_grid_near_marker_11.png" />
<p class="caption"><span class="caption-text">Query System</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id15">
<img alt="_images/query_grid_near_marker_2.jpg" src="_images/query_grid_near_marker_2.jpg" />
<p class="caption"><span class="caption-text">Query System</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="transform-rule">
<h2>Transform Rule<a class="headerlink" href="#transform-rule" title="Permalink to this headline">¶</a></h2>
<p>Dungeon Architect lets you specify offsets to your visual nodes to move/scale/rotate them from their relative marker locations.</p>
<div class="figure align-center" id="id16">
<img alt="_images/offset.png" src="_images/offset.png" />
<p class="caption"><span class="caption-text">Static node Offset</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
<p>However, if you want a more dynamic way of applying offsets (based on blueprint or C++ logic), you can do so with a <em>Transform Rule</em>.  This can be very useful to add variations to your levels for certain props</p>
<div class="section" id="using-transform-rules">
<h3>Using Transform Rules<a class="headerlink" href="#using-transform-rules" title="Permalink to this headline">¶</a></h3>
<p>To assing an existing rule into the node, Check the <strong>Use Transform Logic</strong> property and select the rule you would like to attach to the node from the dropdown list</p>
<div class="figure align-center" id="id17">
<img alt="_images/transform_rule_01b.png" src="_images/transform_rule_01b.png" />
<p class="caption"><span class="caption-text">Assign an existing Transform Rule</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
<p>Create a new Transform rule by creating a new blueprint class derived from the appropriate DungeonTransformLogic.  It should match the builder you are targeting</p>
<div class="figure align-center" id="id18">
<img alt="_images/transform_rule_01a.png" src="_images/transform_rule_01a.png" />
<p class="caption"><span class="caption-text">Create a new Selection Rule</span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</div>
<p>Open up the blueprint and override the <strong>Get Node Offset</strong> function. This function will be called by the engine and the logic you put here will let you decide on the offset that needs to be applied on this node</p>
<div class="figure align-center" id="id19">
<img alt="_images/transform_rule_04.png" src="_images/transform_rule_04.png" />
<p class="caption"><span class="caption-text">Override function to define logic</span><a class="headerlink" href="#id19" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="id1">
<h3>Example #1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>In this example, a single rock mesh is randomly rotated, and slightly scaled and translated to give a nice cave like look</p>
<div class="figure align-center" id="id20">
<img alt="_images/transform_rule_eg1_1.jpg" src="_images/transform_rule_eg1_1.jpg" />
<p class="caption"><span class="caption-text">Rocks randomly rotated, translated and scaled</span><a class="headerlink" href="#id20" title="Permalink to this image">¶</a></p>
</div>
<p>A different transformation rule is applied to ceiling stone meshes for more variations</p>
<div class="figure align-center" id="id21">
<img alt="_images/transform_rule_eg1_2.jpg" src="_images/transform_rule_eg1_2.jpg" />
<p class="caption"><span class="caption-text">Transform rule applied to rock nodes</span><a class="headerlink" href="#id21" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id22">
<img alt="_images/transform_rule_eg1_3.png" src="_images/transform_rule_eg1_3.png" />
<p class="caption"><span class="caption-text">Cliff Random rotation rule</span><a class="headerlink" href="#id22" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="id2">
<h3>Example #2<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Here is an example where alternate pipes are rotated by 180 degrees to give a visually appealing look</p>
<div class="figure align-center" id="id23">
<img alt="_images/transform_rule_eg2_1.jpg" src="_images/transform_rule_eg2_1.jpg" />
<p class="caption"><span class="caption-text">Alternate meshes are rotated by 180 degrees</span><a class="headerlink" href="#id23" title="Permalink to this image">¶</a></p>
</div>
<p>This was done by rotating the mesh node by 180 degrees for every alternate cell (similar to the checker rule logic seen previously)</p>
<div class="figure align-center" id="id24">
<img alt="_images/transform_rule_eg2_2.jpg" src="_images/transform_rule_eg2_2.jpg" />
<p class="caption"><span class="caption-text">Rule assignment</span><a class="headerlink" href="#id24" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="id3">
<h3>Example #3<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>In this example a small random rotation is applied to orange ground tiles.  Useful while creating ruins when laying down broken tile meshes</p>
<div class="figure align-center" id="id25">
<img alt="_images/vol_platform_04c.jpg" src="_images/vol_platform_04c.jpg" />
<p class="caption"><span class="caption-text">Transform rule applied to orange ground meshes</span><a class="headerlink" href="#id25" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id26">
<img alt="_images/transform_rule_eg3_1.png" src="_images/transform_rule_eg3_1.png" />
<p class="caption"><span class="caption-text">Transformation Rule Blueprint</span><a class="headerlink" href="#id26" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="spawn-logic">
<h2>Spawn Logic<a class="headerlink" href="#spawn-logic" title="Permalink to this headline">¶</a></h2>
<p>Spawn Logics are blueprints that are attached to visual nodes and are executed whenever that visual item (mesh, actor, particle system, light etc) is spawned into the scene</p>
<p>These are great for initializing blueprints (or randomizing them). Some use cases include randomizing the colors of the lights that spawn from a light node, or you can use it to initialize your blueprints spawned from the actor nodes</p>
<p>You can attach a spawn logic to any visual node (e.g. mesh node, light node, particle system node, actor node etc)</p>
<p>Set the <em>Use Spawn Logic</em> flag and choose your spawn logic blueprint</p>
<div class="figure align-center" id="id27">
<img alt="_images/spawn_logic_detail.png" src="_images/spawn_logic_detail.png" />
<p class="caption"><span class="caption-text">Spawn Logic</span><a class="headerlink" href="#id27" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="create-spawn-logic">
<h3>Create Spawn Logic<a class="headerlink" href="#create-spawn-logic" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id28">
<img alt="_images/spawn_logic_create.png" src="_images/spawn_logic_create.png" />
<p class="caption"><span class="caption-text">Spawn Logic</span><a class="headerlink" href="#id28" title="Permalink to this image">¶</a></p>
</div>
<p>Create a new blueprint class and pick DungeonSpawnLogic class as the parent</p>
</div>
<div class="section" id="define-spawn-logic">
<h3>Define Spawn Logic<a class="headerlink" href="#define-spawn-logic" title="Permalink to this headline">¶</a></h3>
<p>Open your blueprint and override the <em>OnItemSpawn</em> function.</p>
<div class="figure align-center" id="id29">
<img alt="_images/spawn_logic_override.png" src="_images/spawn_logic_override.png" />
<p class="caption"><span class="caption-text">Spawn Logic</span><a class="headerlink" href="#id29" title="Permalink to this image">¶</a></p>
</div>
<p>Get the reference of the spawn actor and cast it to the type you are expecting.  Since this logic was attached to a mesh node,  it is cast to a static mesh and customizations can be applied to it</p>
<div class="figure align-center" id="id30">
<img alt="_images/spawn_logic_override2.png" src="_images/spawn_logic_override2.png" />
<p class="caption"><span class="caption-text">Spawn Logic</span><a class="headerlink" href="#id30" title="Permalink to this image">¶</a></p>
</div>
<p>Another blueprint that was attached to a point light.  Since we expect a point light, we cast to the correct type and change the color</p>
<div class="figure align-center" id="id31">
<img alt="_images/spawn_logic_override3.png" src="_images/spawn_logic_override3.png" />
<p class="caption"><span class="caption-text">Spawn Logic</span><a class="headerlink" href="#id31" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="clustered-theming">
<h2>Clustered Theming<a class="headerlink" href="#clustered-theming" title="Permalink to this headline">¶</a></h2>
<p>Clustered theming allows you to automatically apply different themes to various parts (clusters) of your dungeons. This helps in adding variation to your levels and break monotony</p>
<p>A continous section of corridor cells or rooms are assigned to a clusters to have a proper theme transtions</p>
<div class="figure align-center" id="id32">
<img alt="_images/cluster_theme.jpg" src="_images/cluster_theme.jpg" />
<p class="caption"><span class="caption-text">Cluster Theming</span><a class="headerlink" href="#id32" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="using-clustered-theming">
<h3>Using Clustered Theming<a class="headerlink" href="#using-clustered-theming" title="Permalink to this headline">¶</a></h3>
<p>To use clustered theming, enable it from the dungeon’s detail panel</p>
<div class="figure align-center" id="id33">
<img alt="_images/cluster_theme_enable.png" src="_images/cluster_theme_enable.png" />
<p class="caption"><span class="caption-text">Enable Cluster Theming</span><a class="headerlink" href="#id33" title="Permalink to this image">¶</a></p>
</div>
<p>Once enabled, you need to define a list of theme sets you’d like to apply on the clusters from the Advanced category of the dungeon’s detail panel</p>
<div class="figure align-center" id="id34">
<img alt="_images/cluster_theme_advanced_details.png" src="_images/cluster_theme_advanced_details.png" />
<p class="caption"><span class="caption-text">Assign Cluster Themes</span><a class="headerlink" href="#id34" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>When you use clustered themes, the <strong>dungeon’s default theme array list will be ignored</strong> and the theme list defined in the cluster themes mapping would be used instead</p>
</div>
<p>Currently, only the grid builder supports clustered theming</p>
</div>
<div class="section" id="height-variations">
<h3>Height Variations<a class="headerlink" href="#height-variations" title="Permalink to this headline">¶</a></h3>
<p>Corridor cells connected together are grouped into a cluster.   You can customize if connected nearby corridor cells on different height (connected through stairs) should be grouped into the same cluster</p>
<div class="figure align-center" id="id35">
<img alt="_images/cluster_theme_advanced_details.png" src="_images/cluster_theme_advanced_details.png" />
<p class="caption"><span class="caption-text">Cluster Height Variation</span><a class="headerlink" href="#id35" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id36">
<img alt="_images/cluster_theme_height1.jpg" src="_images/cluster_theme_height1.jpg" />
<p class="caption"><span class="caption-text">Cluster Height Variation</span><a class="headerlink" href="#id36" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id37">
<img alt="_images/cluster_theme_height2.jpg" src="_images/cluster_theme_height2.jpg" />
<p class="caption"><span class="caption-text">Cluster Height Variation</span><a class="headerlink" href="#id37" title="Permalink to this image">¶</a></p>
</div>
<p>Notice the corridor on the bottom right.  It was split into two themes because of the height variation</p>
</div>
</div>
<div class="section" id="spatial-constraints">
<h2>Spatial Constraints<a class="headerlink" href="#spatial-constraints" title="Permalink to this headline">¶</a></h2>
<p>Spatial constraints are great of checking the state of nearby tiles and using it as a condition to place items on the scene</p>
<p>Spatial constraints are set in the theme graph’s node.</p>
<div class="figure align-center" id="id38">
<img alt="_images/spatial_constraint_a.jpg" src="_images/spatial_constraint_a.jpg" />
<p class="caption"><span class="caption-text">Spatial Constraints</span><a class="headerlink" href="#id38" title="Permalink to this image">¶</a></p>
</div>
<p>In the above example, a statue mesh is added to the ground marker.    We want this to appear only on the corners and not on each tile</p>
<p>Select a mesh node and in the details panel, enable <em>Use Spatial Constraint</em></p>
<p>Then select the spatial constraint type.  Since this is a ground mesh, it is surrounded by 3x3 tiles</p>
<div class="figure align-center" id="id39">
<img alt="_images/spatial_constraint2.png" src="_images/spatial_constraint2.png" />
<p class="caption"><span class="caption-text">Spatial Constraints</span><a class="headerlink" href="#id39" title="Permalink to this image">¶</a></p>
</div>
<p>Expand the spatial setup. Here you specify the rules of the adjacent tiles, whether it should be empty, occupied or should be ignored.   The rules will try to rotate to best fit the layout</p>
<div class="figure align-center" id="id40">
<img alt="_images/spatial_constraint3.jpg" src="_images/spatial_constraint3.jpg" />
<p class="caption"><span class="caption-text">Spatial Constraints</span><a class="headerlink" href="#id40" title="Permalink to this image">¶</a></p>
</div>
<p>With this setup, the statues spawn only at the corners</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="advanced_dungeon_concepts.html" class="btn btn-neutral float-right" title="Advanced Dungeons" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="builder_grid.html" class="btn btn-neutral float-left" title="Grid Builder" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Code Respawn

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>